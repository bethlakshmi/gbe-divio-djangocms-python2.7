{% extends "base.tmpl" %}
{% load staticfiles sekizai_tags %}
{% block title %}
  Calendar
{% endblock %}
{% block head %}
    <link rel="stylesheet" type="text/css" href="/static/styles/calendar.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
{% endblock %}

{% block content %}
<div class="container calendar-container">
 <div class="row header1">
    <div class="col-lg-12">{{conference.conference_name}} - {{ calendar_type }} Calendar</div>
 </div>
 <div class="row header2">
  {% if this_day %}
   <div class="col-1 backward">
    {% if prev_date %}<a href="?day={{ prev_date }}" data-toggle="tooltip" title="{{ prev_date }}">
      <button class="btn btn-default" type="submit" name="{{ prev_date }}" value="{{ prev_date }}">
    {% else %}<a href="#">
      <button class="btn btn-default disabled">
    {% endif %}
        <i class="fa fa-step-backward" aria-hidden="true"></i>
      </button>
    </a></div>
    <div class="col-10">{{ this_day.day | date:"l" }} - {{ this_day }}</div>
    <div class="col-1 forward">
     {% if next_date %}<a href="?day={{ next_date }}" data-toggle="tooltip" title="{{ next_date }}">
      <button class="btn btn-default" type="submit" name="{{ next_date }}" value="{{ next_date }}">
    {% else %}<a href="#">
      <button class="btn btn-default disabled">
    {% endif %}
        <i class="fa fa-step-forward" aria-hidden="true"></i>
      </button>
    </a></div>
  {% else %}
    <div class="col-12">This calendar is not currently available.</div>
  {% endif %}
 </div>
{% for hour, occurrence_set in occurrences_by_hour.items %}
   <div class="row time-row">
    <div class="col-lg-12">{{hour}}</div>
   </div>
   <div class="row event-row">
   {% for occurrence in occurrence_set.starting_events %}
    <div class="col-lg-{{grid_size}} col-md-{% if grid_size > 4 %}{{grid_size}}{% else %}4{% endif %} col-sm-{% if grid_size > 6 %}{{grid_size}}{% else %}6{% endif %} col-12 {{occurrence.highlight|slugify}}">
     {% include "gbe/scheduling/volunteer_link.tmpl" with sched_event=occurrence %}
     {{ occurrence.start }}-{{ occurrence.end }}<br>
      <a class="more-link" href="#" data-toggle="modal" data-target="#Modal{{occurrence.eventitem.pk}}" data-backdrop="true" >
      {{ occurrence.title}}&nbsp;<i class="fas fa-info-circle"></i>
     </a><br>
     <i>{{ occurrence.location }}</i>
         {% include "gbe/scheduling/event_modal.tmpl"%}

    </div>
    {% endfor %}
    {% for occurrence in occurrence_set.continuing_events %}
    <div class="col-lg-{{grid_size}} col-md-{% if grid_size > 4 %}{{grid_size}}{% else %}4{% endif %} col-sm-{% if grid_size > 6 %}{{grid_size}}{% else %}6{% endif %} col-12 shadow_event">
       <a href="" class="detail_link cal-favorite" data-toggle="tooltip" title="See & Signup Above">
         <i class="fas fa-arrow-alt-circle-up"></i></a>
      <a href="{{occurrence.eventitem.pk}}" class="detail_link">{{ occurrence.title}}</a>
      <i>(continued...)</i>
    </div>{% endfor %}
  </div>
{% endfor %}
{% if not occurrences %}
   <div class="row event-row" style="text-align: center;">
    <div class="col-lg-12">There are no {{ calendar_type | lower }} events scheduled for this day.</div>
  </div>
{% endif %}
  </div>
</div>
{% endblock %}